<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Flights</title>
<link rel="shortcut icon" type="image/png"
	href="common/images/favicon.png" />
<link rel="stylesheet"
	href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
	integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
	crossorigin="" />
<script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
	integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
	crossorigin=""></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css"
	href="common/css/jquery.seat-charts.css">
<link rel="stylesheet" href="common/css/tableStyle.css">
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.6.1/bootstrap-slider.min.js"></script>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.6.1/css/bootstrap-slider.min.css" />
<script type="text/javascript"
	src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<script type="text/javascript" src="auth/auth.js"></script>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.css">
<script type="text/javascript"
	src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<script type="text/javascript"
	src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script type="text/javascript"
	src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
<link rel="stylesheet"
	href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css">
<script type="text/javascript"
	src="//cdn.jsdelivr.net/sockjs/1.0.3/sockjs.min.js">
	
</script>
<!-- Koristi stomp biblioteku da se pretplati na brokerov /topic/message endpoint -->
<script type="text/javascript"
	src="//cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script src="common/js/jquery.seat-charts.min.js"></script>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/css/bootstrap-multiselect.css"
	type="text/css">
<script type="text/javascript"
	src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.min.js"></script>
<script type="text/javascript"
	src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/js/bootstrap-datepicker.min.js"></script>
<link rel="stylesheet" type="text/css"
	href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/css/bootstrap-datepicker.css" />
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="registeredUser/index.css">
<script type="text/javascript" src="registeredUser/index.js"></script>
</head>
<body>
	<div class="container-fluid">
		<div id="topMenu">
			<div id="tabsDiv">
				<ul class="nav nav-tabs nav-justified">
					<li class="active"><a data-toggle="tab" href="#flights">Flights</a>
					</li>
					<li><a data-toggle="tab" href="#hotels">Hotels</a></li>
					<li><a data-toggle="tab" href="#cars">Cars</a></li>
					<li><a data-toggle="tab" href="#friends">Friends</a></li>
					<li><a data-toggle="tab" href="#reservations">My
							reservations</a></li>
					<li><a data-toggle="tab" href="#profile">Profile</a></li>
				</ul>
			</div>
			<button type="button" class="btn .btn-link" id="logout">Logout</button>
		</div>
		<div class="tab-content">
			<div id="flights" class="tab-pane fade in active"
				style="text-align: center;">
				<div id="flightsTableWrapper">
					<div id="searchFlightsDiv">
						<table id="serviceTable">
							<tr>
								<td>Start destination</td>
								<td><select id="startDestination">
								</select></td>
								<td>End destination</td>
								<td><select id="endDestination">
								</select></td>
							</tr>
							<tr>
								<td>Departure time</td>
								<td><input type="date" id="departureTime" /></td>
								<td>Landing time</td>
								<td><input type="date" id="landingTime" /></td>
							</tr>
						</table>
						<br>
						<button class="btn btn-default" id="searchFlights"
							onclick="searchFlights(event)">Search</button>
						<br>
						<div id="flightsDiv">
							<table id="flightsTable" class="table display table-bordered">
								<thead>
									<tr>
										<th>Flight code</th>
										<th>Departure time</th>
										<th>Landing time</th>
										<th>Airline</th>
									</tr>
								</thead>
								<tbody>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
			<div id="hotels" class="tab-pane fade">
				<div id="hotelsTableWrapper">
					<div id="searchHotelsDiv">
						<table id="hotelsSearchTable">
							<tr>
								<td>Hotel name</td>
								<td><input id="searchHotelName" type="text"></td>
								<td>Hotel grade</td>
								<td><input id="searchHotelGrade" type="text" class="span2"
									value="" data-slider-min="0" data-slider-max="5"
									data-slider-step="0.1" data-slider-value="[0,5]" /></td>
							</tr>
						</table>
						<br>
						<button class="btn btn-default" id="searchHotelsButton"
							onclick="searchHotels(event)">Search</button>
						<br>
						<div id="hotelsTableWrapper">
							<table id="hotelsTable" class="table display table-bordered">
								<thead>
									<tr>
										<th>Name</th>
										<th>Grade</th>
									</tr>
								</thead>
								<tbody>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
			<div id="cars" class="tab-pane fade">
				<div id="searchCarsDiv">
					<div id="searchCars">
						<table id="searchCarsTable">
							<thead></thead>
							<tbody>
								<tr>
									<td colspan="2">
										<select class="form-control" id="selectProducer"></select>
									</td>
									<td>
										<select id="selectModel" disabled multiple></select>
									</td>
									<td>
										<select id="vehicleType" multiple></select>
									</td>
									<td>
										<select id="fuelType" multiple></select>
									</td>
								</tr>
								<tr>
									<td>
										<label class="searchLabel">Maximum price per day:</label>
									</td>
									<td>
										<input type="number" class="form-control" id="priceTo" min="0">
									</td>
									<td>
										<label class="searchLabel">Minimal number of seats:</label>
									</td>
									<td>
										<input type="number" class="form-control" id="numberOfSeats" min="1">
									</td>								
								</tr>
								<tr>
									<td>
										<label class="searchLabel">Production year from:</label>
									</td>
									<td>
										<input type="text" class="form-control" id="startYear">
									</td>
									<td>
										<label class="searchLabel">To:</label>
									</td>
									<td>
										<input type="text" class="form-control" id="endYear">
									</td>
								</tr>
								<tr>
									<td>
										<label class="searchLabel">Grade:</label>
									</td>
									<td>
										<input id="vehicleGrade" type="text" value="" data-slider-min="0" data-slider-max="5" data-slider-step="0.1" data-slider-value="[0,5]">
									</td>
									<td colspan="2">
										<button class="btn btn-default" id="searchVehiclesButton">Search</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div id="vehiclesTableWrapper">
						<table id="vehiclesTable" class="table display table-bordered">
							<thead>
								<tr>
									<th>ID</th>
									<th>Producer</th>
									<th>Model</th>
									<th>Vehicle type</th>
									<th>Fuel type</th>
									<th>Number of seats</th>
									<th>Price per day</th>
									<th>Year of production</th>
									<th>Average grade</th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<div id="friends" class="tab-pane fade">
				<div id="friendsTableWrapper">
					<div id="friendsTableDiv">
						<table id="friendsTable" class="table display table-bordered">
							<thead>
								<tr>
									<th>Email</th>
									<th>First name</th>
									<th>Last name</th>
									<th>Status</th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
						<button class="btn btn-default" id="searchUsersButton"
							data-toggle="modal" data-target="#usersModalDialog">Search
							users</button>
					</div>
				</div>
			</div>
			<div id="reservations" class="tab-pane fade">
				<div id="reservationsTableWrapper">
					<div id="reservationsTableDiv">
						<table id="reservationsTable" class="table display table-bordered">
							<thead>
								<tr>
									<th>Reservation ID</th>
									<th>Flight</th>
									<th>Date</th>
									<th>Price</th>
									<th>Grade</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<div id="profile" class="tab-pane fade">
				<div id="profileContent">
					<div id="userImgDiv">
						<img src="common/images/user.png" id="userImg">
					</div>
					<div id="profileEdit">
						<h2 id='email'></h2>
						<form id="userEditForm">
							<div class="form-group">
								<label for="fname">First name:</label>
								<div class="input-group">
									<input class="form-control" type="text" name="fname"
										pattern="[A-Z][a-z]*" title="Must start with a capital letter"
										readonly> <span class="input-group-addon edit"><i
										class="glyphicon glyphicon-edit"></i></span>
								</div>
							</div>
							<div class="form-group">
								<label for="lname">Last name:</label>
								<div class="input-group">
									<input class="form-control" type="text" name="lname"
										pattern="[A-Z][a-z]*" title="Must start with a capital letter"
										readonly> <span class="input-group-addon edit"><i
										class="glyphicon glyphicon-edit"></i></span>
								</div>
							</div>
							<div class="form-group">
								<label for="phone">Phone:</label>
								<div class="input-group">
									<input class="form-control" type="tel" name="phone"
										pattern="\+[0-9]{12}" title="12 digits starting with +"
										readonly> <span class="input-group-addon edit"><i
										class="glyphicon glyphicon-edit"></i></span>
								</div>
							</div>
							<div class="form-group">
								<label for="address">Address:</label>
								<div class="input-group">
									<input class="form-control" type="text" name="address"
										pattern="[A-Z][a-z]*" title="Must start with a capital letter"
										readonly> <span class="input-group-addon edit"><i
										class="glyphicon glyphicon-edit"></i></span>
								</div>
							</div>
							<button type="submit" class="btn btn-default" id="saveChanges">Save
								changes</button>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div id="reservationCart">
			<table id="cartTable">
				<tr>
					<td><img src="common/images/airplane.png" width="50%"/></td>
					<td colspan="2" id="flightRes">No flight reserved</td>
				</tr>
				<tr>
					<td><img src="common/images/hotel.png" width="50%"/></td>
					<td colspan="2" id="hotelRes"></td>
				</tr>
				<tr>
					<td><img src="common/images/car.png" width="50%"/></td>
					<td colspan="2" id="carRes"></td>
				</tr>
				<tr>
					<td colspan="3"></td>
				</tr>
				<tr>
					<td colspan="3" style="text-align: center;"><button
							class="btn btn-default" id="reserveButton"
							onclick="confirmReservation(event)">Confirm reservation</button></td>
				</tr>
			</table>
		</div>
	</div>

	<!-- MODAL -->
	<div class="modal fade" id="usersModalDialog" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content" id="serviceDiv">
				<form id="searchUserForm">
					First name <input type="text" id="userFirstName" /> Last name <input
						type="text" id="userLastName" /> <input type="submit"
						id="submitButton" class="btn btn-default" value="Search" />
				</form>
				<br>
				<div id="usersDiv">
					<table id="usersTable" class="table display table-bordered">
						<thead>
							<tr>
								<th>Email</th>
								<th>First name</th>
								<th>Last name</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<!-- SHOW HOTEL MODAL -->
	<div class="modal fade" id="showHotelModal" tabindex="-1" role="dialog"
		aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-xl" role="document">
			<div class="modal-content" id="showHotelDiv">
				<table id="showHotelTable">
					<tr>
						<td colspan="2"><input type="text" id="hotelName"
							class="textInput" readonly></td>
					</tr>
					<tr>
						<td colspan="2">Average grade:
							<p id="hotelGrade"></p>
						</td>
					</tr>
					<tr>
						<td><textarea rows="8" cols="20" id="hotelDescription"
								class="textInput" readonly></textarea></td>
						<td><div id="hotelMapDiv"></div></td>
					</tr>
					<tr>
						<td colspan="2">
							<table id="quickHotelReservationsTable"
								class="table display table-bordered">
								<thead>
									<tr>
										<th>Reservation ID</th>
										<th>Discounted price</th>
										<th>Discount</th>
										<th>From</th>
										<th>To</th>
										<th>Room</th>
										<th>Additional services</th>
										<th></th>
									</tr>
								</thead>
								<tbody>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<td colspan="2"><table id="additionalServicesTable"
								class="table display table-bordered">
								<thead>
									<tr>
										<th>Additional service</th>
										<th>Price</th>
										<th>Add to reservation</th>
									</tr>
								</thead>
								<tbody>
								</tbody>
							</table></td>
					</tr>
					<tr>
						<td colspan="2">
							<table id="hotelRoomsSearchTable">
								<tr>
									<td>Reservation date</td>
									<td><input type="text" id="searchRoomsDateRange" /></td>
									<td>For people</td>
									<td><input id="searchRoomsForPeople" type="number" min="1"
										oninput="validity.valid||(value='');" value="1"></td>
								</tr>
								<tr>
									<td>Price</td>
									<td><input id="searchRoomsPrice" type="text" class="span2"
										value="" data-slider-min="0" data-slider-max="10000"
										data-slider-step="10" data-slider-value="[0,10000]" /></td>
									<td>Grade</td>
									<td><input id="searchRoomsGrade" type="text" class="span2"
										value="" data-slider-min="0" data-slider-max="5"
										data-slider-step="0.1" data-slider-value="[0,5]" /></td>
								</tr>
							</table> <br>
							<button class="btn btn-default" id="searchRoomsButton"
								onclick="searchRooms(event)">Search</button> <br>
						</td>
					</tr>
					<tr>
						<td colspan="2">
							<table id="roomsTable" class="table display table-bordered">
								<thead>
									<tr>
										<th>Room</th>
										<th>Current price</th>
										<th>For people</th>
										<th>Average grade</th>
										<th></th>
									</tr>
								</thead>
								<tbody>
								</tbody>
							</table>
						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>

	<!-- SHOW FLIGHT MODAL -->
	<div class="modal fade" id="showFlightModal" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content" id="showFlightDiv">
				<div id="reserveDiv">
					<table id="showFlightTable">
						<tr>
							<td>Start destination</td>
							<td><span id="startDest"></span></td>
							<td>End destination</td>
							<td><span id="endDest"></span></td>
						</tr>
						<tr>
							<td>Departure time</td>
							<td><span id="depTime"></span></td>
							<td>Landing time</td>
							<td><span id="landTime"></span></td>
						</tr>
						<tr>
							<td>Airline</td>
							<td><span id="flightAirline"></span></td>
							<td>Flight duration</td>
							<td><span id="flightDuration"></span></td>
						</tr>
						<tr>
							<td>Flight distance</td>
							<td><span id="flightDistance"></span></td>
							<td>Locations of connections</td>
							<td><select id="flightConnections"></select>
						</tr>
						<tr>
							<td>Price per bag</td>
							<td><span id="pricePerBag"></span></td>
							<td>Average grade</td>
							<td><span id="averageGrade"></span>
						</tr>
						<tr>
							<td>Passport number</td>
							<td><input type='text' id="userPassNumber" /></td>
							<td>Number of bags</td>
							<td><input type='number' id="numOfBags" /></td>
						</tr>
					</table>
					<br> <br>
					<div id="planeSeats">
						<div id="seat-map">
							<div class="front-indicator">Front</div>
						</div>
						<div class="booking-details">
							<h2>Booking Details</h2>
							<h3>
								Selected Seats (<span id="counter">0</span>):
							</h3>
							<ul id="selected-seats">
							</ul>
							Total: <b>$<span id="total">0</span></b>
							<div id="legend"></div>
						</div>
					</div>
					<br> <br>
					<button class="btn btn-default" id="nextButtonFlights"
						onclick="showFriendsStep(event)">Next</button>
				</div>
				<div id="reserveDivFriends">
					<table id="inviteFriendsTable" class="table display table-bordered">
						<thead>
							<tr>
								<th>Email</th>
								<th>First name</th>
								<th>Last name</th>
								<th>Invite</th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
					<br> <br>
					<button class="btn btn-default" id="nextButtonFlightsFriends"
						onclick="showLastStep(event)">Next</button>
				</div>
				<div id="reserveDivPassengers">
					<table id="passengersTable">
					</table>
					<br> <br>
					<button class="btn btn-default" id="nextButtonFlightsLast"
						onclick="endReservation(event)">End reservation</button>
				</div>
			</div>
		</div>
	</div>
	<!-- QUICK VEHICLE RESERVATIONS MODAL -->
	<div id="quickVehicleReservationsModal" class="modal fade" role="dialog">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
        			<h4 id="quickReservationsModalTitle" class="modal-title"></h4>
				</div>
				<div class="modal-body">
					<table id="quickReservationsTable" class="table display table-bordered">
						<thead>
							<tr>
								<th>Branch office name</th>
								<th>Vehicle producer</th>
								<th>Vehicle model</th>
								<th>From</th>
								<th>To</th>
								<th>Discount</th>
								<th>&nbsp;</th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</body>
</html>